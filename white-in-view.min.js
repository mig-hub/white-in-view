"use strict";function WhiteInView(e,t){function i(e){return"[object NodeList]"===toString.call(e)}if(void 0===e)throw new Error("No elements selected for the WhiteInView instance.");this.setElements=function(){var t=document.querySelectorAll(e);this.elems=[],this.isElemsList=i(t),this.isElemsList?this.elems=t:this.elems.push(t),this.elemsLength=this.elems.length},this.setElements(),this.running=!1,this.opts={inViewClass:t&&t.inViewClass||"white-is-in-view",outViewClass:t&&t.outViewClass||"white-is-out-view"},this.checkBounds=function(){for(var e=0;e<this.elemsLength;e++)if(null!==this.elems[e].offsetParent){var t=this.elems[e].getBoundingClientRect(),i=this.elems[e].getAttribute("data-offset-top")?parseInt(this.elems[e].getAttribute("data-offset-top")):0,s=this.elems[e].getAttribute("data-offset-bottom")?parseInt(this.elems[e].getAttribute("data-offset-bottom")):0,n=this.elems[e].getAttribute("data-percentage")&&"true"===this.elems[e].getAttribute("data-percentage");n&&(s&&(s=s*window.innerHeight/100),i&&(i=i*window.innerHeight/100));var o=t.top>0+i&&t.bottom<window.innerHeight-s;o?(this.elems[e].onElementInViewTriggered||this.elems[e].dispatchEvent(this.events.onElementInView),this.elems[e].onElementInViewTriggered=!0,this.elems[e].onElementOutViewTriggered=!1,this.elems[e].classList.add(this.opts.inViewClass),this.elems[e].classList.remove(this.opts.outViewClass)):(this.elems[e].onElementOutViewTriggered||this.elems[e].dispatchEvent(this.events.onElementOutView),this.elems[e].onElementInViewTriggered=!1,this.elems[e].onElementOutViewTriggered=!0,this.elems[e].classList.add(this.opts.outViewClass),this.elems[e].classList.remove(this.opts.inViewClass))}},this.init=function(){window.dispatchEvent(this.events.onInit),this.running=!0,this.loop()},this.stop=function(){window.dispatchEvent(this.events.onStop),this.running=!1},this.reload=function(){window.dispatchEvent(this.events.onReload),this.running=!0,this.setElements(),this.loop()},this.loop=function(){if(this.running){var e=this;requestAnimationFrame(function(){e.checkBounds(),e.loop()})}},this.events={onInit:new Event("whiteInView.onInit"),onStop:new Event("whiteInView.onStop"),onReload:new Event("whiteInView.onReload"),onElementInView:new Event("whiteInView.onElementInView"),onElementOutView:new Event("whiteInView.onElementOutView")}}
